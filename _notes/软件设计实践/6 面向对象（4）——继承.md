#### 类的UML表示法
UML(Unified Modeling Language,统一建模语言)
通过图形化方法来描述软件系统的不同方面 包括系统的结构、行为和交互
e.g. ![[2025-03-19 13_04_19-PowerPoint 演示文稿 - Adobe Acrobat Pro (64-bit).png]]
当不同的类中有许多相同的成员目标或成员函数 需要重复多次实现时可以使用**继承**
把相同部分抽取出来
UML中表示为空三角箭头 三角箭头指向基类/父类
可见性 ：public +  privatee-  protected#
## 继承
#### 继承与派生的基本概念
在定义类B时，若拥有已定义好的类A的全部特点 也另外有一些别的特点 可以把A作为一个基类（父类）把B作为一个派生类（子类）
	类A派生出类B
	类B继承自派A
派生类可以对基类进行扩充和修改
	扩充：添加新的成员变量 成员函数
	修改：重新编写从基类继承得到的成员
在C++中的写法：**class 派生类名:继承方式说明符 基类名{}**
继承方式说明符：public private protected
如果省略不写 用struct声明则默认public继承 用class默认private继承
派生类拥有基类全部成员变量/成员函数
派生类的各个成员函数中 不能访问基类中的private成员
#### 派生类对象的内存空间
派生类对象大小，大致相当于基类大小+派生成员变量大小
基类对象的存储位置位于新增成员变量之前
#### 成员的覆盖
可以定义和基类同名的成员 缺省访问派生类中定义的成员
覆盖之后并不是不给基类的对象开空间了 
如果想要访问由基类定义的童名成员 需使用作用域运算符::
**一般来说不定义同名成员变量**
### 派生类的成员组成与可见性
继承方式说明符为public时表示公有继承
让基类的所有公有成员都可被外部访问 即基类的公有成员在派生类中是公有的
为private时表示私有继承
让基类的所有公有成员都不可被外部访问 基类的公有成员在派生类中时私有的
保护成员
	用protected修饰的成员为保护成员
	派生类的成员函数可以访问当前对象的基类的保护成员 也可以访问其他同类对象的基类的保护成员（后半句指同样的派生类产生对不同对象的基类的保护成员）
	也可以被派生类的友元函数访问
### 派生类的构造和析构
构造函数、可访问的基类赋值运算符重载、基类的析构函数不会被继承
在构建派生类的对象时 需要调用基类的构造函数
	初始化从基类继承来的成员
	执行派生类的构造函数前 总是先执行基类的构造函数
构造顺序
	构造基类成员
	初始化列表/初始化器对派生类额外成员进行构造
	执行派生类的构造函数
析构顺序相反
### 继承中的隐式转换
一个公有继承的派生类对象可以“隐式转换”到基类
	转换后的对象不包含派生类定义的成员
	从派生类构造基类调用复制构造
	把派生类赋值到基类会调用基类的复制赋值重载
基类引用绑定到派生类
	若派生类公有继承自基类 则基类引用可绑定到派生类对象
	虽然引用绑定到了派生类 但只能访问基类的成员数据和成员函数
指针强制转换
	派生类公有继承自基类 基类指针可以直接指向派生类对象
	通过指针仍然只能访问派生类中基类的成员
	**通过指针的强制转换 可以访问派生类中派生出来的成员**
		需要确保转换前指向的是派生类对象的地址
### 多继承
#### 直接基类与间接基类
声明派生类时 首部只需要列出它的直接基类
	不要列出间接基类
	沿着类的层析自动向上继承
	成员包括：全部间接基类的成员 直接基类的成员 自己定义的成员
#### 多继承
一个类可以由多个基类派生而来，以及继承多个类的成员
构造顺序
	按继承顺序调用基类的构造函数
	派生类成员的构造
	派生类的构造函数
二义性的问题
	若两个基类有相同的成员 会报错
	且二义性检查在访问权限检查之前进行 因此不能通过成员访问权限的不同来消除二义性
	解决方法：使用作用域运算符说明使用哪个基类的成员
### 对象之间的关系
对象之间可能有各种关系：
	泛化：分类法中一般和特殊的关系
		e.g. 是（is a）——公有继承 （私有继承和保护继承一般不能表示泛化关系）
	关联：静态结构上的关系，长期的、稳定的
		e.g. 有（has a) ——类类型的指针 
			生命周期不同 可以在外界获得好再装配来
			UML中为“聚合”关系 ![[Pasted image 20250319144843.png]]
		部分于（part of）——类类型对象
			 UML中为“组合”关系 ![[Pasted image 20250319144434.png]]
			 生命周期相同
	依赖：动态行为上的关系 偶发的、临时性的
		e.g. 使用(uses a) 依赖于(depends a)
			成员函数的参数
			UML中为“依赖”关系![[Pasted image 20250319145043.png]]

previous:[[5 面向对象（3）——运算符重载]]
next:[[7 面向对象（5）——多态]]