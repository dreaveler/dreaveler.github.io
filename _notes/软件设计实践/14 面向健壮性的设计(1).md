# 正确性和鲁棒性
正确性：软件按照规约执行的能力 对内的实现 倾向于正确
鲁棒性：在异常情况下 软件能够正常运行的能力 尽可能保持软件运行而不是退出 对外接口  倾向于健壮
合约contract   precondition前置条件  postcondition后置条件
正确性指的是正确实行规约的行为  健壮性指的是如何应对规约约定之外的行为（不符合前置条件）
### Postel's Law(伯斯塔尔法则)
对自己的代码要保守 对用户的行为要开放
总是假定用户恶意 假定自己的代码可能失败
把用户想象成傻瓜 可能输入任何东西
### 软件中的问题
fault：代码中的问题  /有问题的代码
error：内部不正确的运行状态
failure：导致的与规约不同的行为
有可能没有达到fault的代码
达到fault代码后造成了error但可能没有引发failure
##### 导致failure的必要条件(RIP模型)
Reachability 可达性  执行到包含fault的代码
Infection 感染性 执行fault代码后程序状态error
Propagation 传播性  error状态可被外部感知

mistake与defect
mistake用于指程序员的错误行为
缺陷defect是软件中的一种内在性质
# 防御性编程
核心是承认程序都会有问题 都需要被修改
## 断言
#### 输入检查
检查所有外部来源的数据
#### 断言
用来检查永远不应该发生的情况
cpp中的assert
在头文件`<cassert>`中定义的assert宏
如果是false   程序停止运行 
断言的使用技巧
	可以在函数开始处检查传入参数的合法性
	每个assert只检验一个条件
	不在断言中使用改变状态的运算
## 异常处理
把代码中的错误或不正确事件传给调用方代码的手段
C++异常处理：
	throw关键字  抛出异常
	try—catch语句
		catch用于捕捉异常 根据异常类型来选择执行哪个异常块
异常标准类bad_alloc   内存分配时不够抛出
out_of_range 使用at访问函数时抛出异常
## Smart Pointer 智能指针
如果在抛出异常语句后delete内容 一旦抛出异常  会造成内存泄露
std::unique_ptr    std::shareed_ptr
##  隔栏
如果所有代码都做异常和错误处理 会使代码变得臃肿  可读性下降
隔栏是将外部和内部进行隔离
隔栏外部的程序使用错误处理  而隔栏内部假定数据都是正确的 使用断言技术
